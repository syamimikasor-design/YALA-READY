/**
 * YalaReady: Static Data Version
 * (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏á‡∏ó‡∏µ‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà)
 */

// 1. ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ (‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö)
const waterData = {
    MuangYala: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏¢‡∏∞‡∏•‡∏≤", level: 1.1, time: "20:00" },
    Raman: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏£‡∏≤‡∏°‡∏±‡∏ô", level: 3.8, time: "20:05" },     // ‡∏™‡∏µ‡πÅ‡∏î‡∏á (‡∏ß‡∏¥‡∏Å‡∏§‡∏ï)
    Betong: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏ö‡∏ï‡∏á", level: 0.5, time: "19:50" },
    BannangSata: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ö‡∏±‡∏ô‡∏ô‡∏±‡∏á‡∏™‡∏ï‡∏≤", level: 2.2, time: "20:10" }, // ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡∏™‡πâ‡∏°
    Yaha: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏¢‡∏∞‡∏´‡∏≤", level: 1.4, time: "20:00" },
    ThanTo: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ò‡∏≤‡∏£‡πÇ‡∏ï", level: 0.9, time: "20:15" },
    KrongPinang: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏Å‡∏£‡∏á‡∏õ‡∏¥‡∏ô‡∏±‡∏á", level: 2.7, time: "19:55" }, // ‡∏™‡∏µ‡∏™‡πâ‡∏°
    KaBang: { name: "‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏Å‡∏≤‡∏ö‡∏±‡∏á", level: 1.0, time: "20:05" }
};

// 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥
function getFloodColor(level) {
    if (level < 1.5) return "#2ecc71"; // ‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
    if (level < 2.5) return "#f1c40f"; // ‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á (‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á)
    if (level < 3.5) return "#e67e22"; // ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏†‡∏±‡∏¢ (‡∏™‡πâ‡∏°)
    return "#e74c3c";                 // ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï (‡πÅ‡∏î‡∏á)
}

// 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
function updateMap() {
    const infoDiv = document.getElementById("info");
    
    Object.keys(waterData).forEach(id => {
        const area = document.getElementById(id); // ‡∏î‡∏∂‡∏á ID ‡∏à‡∏≤‡∏Å SVG
        const data = waterData[id];
        
        if (area) {
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ô‡∏±‡πâ‡∏ô‡πÜ
            area.style.fill = getFloodColor(data.level);
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å
            area.onclick = function() {
                infoDiv.innerHTML = `
                    <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-left: 8px solid ${getFloodColor(data.level)}">
                        <strong style="font-size: 1.2em;">üìç ${data.name}</strong><br>
                        <span style="font-size: 1.8em; font-weight: bold; color: ${getFloodColor(data.level)}">${data.level} ‡πÄ‡∏°‡∏ï‡∏£</span><br>
                        <small style="color: #666;">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ${data.time} ‡∏ô.</small>
                    </div>
                `;
            };
        }
    });
    
    infoDiv.innerText = "‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô! ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥";
}

// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
window.onload = updateMap;